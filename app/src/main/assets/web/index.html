<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>
<div id="sse">
    <a href="javascript:WebSocketTest()">Run WebSocket</a>
</div>
<img id="image" width="450">
</body>

<script>
    'use strict';

    var image = document.getElementById('image');

    function WebSocketTest() {
        if ("WebSocket" in window) {
            console.log("WebSocket is supported by your Browser!")
            // Let us open a web socket
            var ws = new WebSocket("ws://192.168.1.115:8012");
            ws.onopen = function () {
                // Web Socket is connected, send data using send()
                ws.send("Message to send\n");
                console.log("Message is sent...");
            };
            ws.onmessage = function (evt) {
                console.log("onmessage")
                image.src = 'data:image/jpg;base64,' + evt.data;
            };
            ws.onclose = function () {
                // websocket is closed.
                console.log("Connection is closed...")
                alert("Connection is closed...");
            };
        }
        else {
            // The browser doesn't support WebSocket
            alert("WebSocket NOT supported by your Browser!");
        }
    }

</script>

</html>